schema: '2.0'
stages:
  prepare:
    cmd: python ./phishing-detection/phishing_detection/get_data.py data
    deps:
    - path: data/test.txt
      hash: md5
      md5: a1cab28ad8554fd9269d31e5708469d0
      size: 32724891
    - path: data/train.txt
      hash: md5
      md5: 13fd241a41370119612d5b00b0433009
      size: 93921671
    - path: data/val.txt
      hash: md5
      md5: 7b1e28b1e91582c6f36e85517c3cc6ee
      size: 46258330
    - path: phishing-detection/phishing_detection/get_data.py
      hash: md5
      md5: 19dd7b6be5f5d4155d3a186e400f328c
      size: 1796
    outs:
    - path: data/raw/X_test.txt
      hash: md5
      md5: 609e75fbf12e4f1ac9bdc1e40bf8c028
      size: 29043540
      cloud:
        aws:
          etag: 609e75fbf12e4f1ac9bdc1e40bf8c028
          version_id: 'null'
    - path: data/raw/X_train.txt
      hash: md5
      md5: 761b3fe3977c171bc5451c08d217f9cb
      size: 83350996
      cloud:
        aws:
          etag: 761b3fe3977c171bc5451c08d217f9cb
          version_id: 'null'
    - path: data/raw/X_val.txt
      hash: md5
      md5: c74e4e1c602207a00f9a7d0b6f5cd612
      size: 41051954
      cloud:
        aws:
          etag: c74e4e1c602207a00f9a7d0b6f5cd612
          version_id: 'null'
    - path: data/raw/y_test.txt
      hash: md5
      md5: ee87127d4d350f71855f7645118a14e2
      size: 3681252
      cloud:
        aws:
          etag: ee87127d4d350f71855f7645118a14e2
          version_id: 'null'
    - path: data/raw/y_train.txt
      hash: md5
      md5: a1baa255faeadb22c2b820464989699e
      size: 10570508
      cloud:
        aws:
          etag: a1baa255faeadb22c2b820464989699e
          version_id: 'null'
    - path: data/raw/y_val.txt
      hash: md5
      md5: e1b4662a77e310d40d02a627f0a5e26c
      size: 5206339
      cloud:
        aws:
          etag: e1b4662a77e310d40d02a627f0a5e26c
          version_id: 'null'
  preprocess:
    cmd: python ./phishing-detection/phishing_detection/preprocess.py data
    deps:
    - path: data/raw/X_test.txt
      hash: md5
      md5: 609e75fbf12e4f1ac9bdc1e40bf8c028
      size: 29043540
    - path: data/raw/X_train.txt
      hash: md5
      md5: 761b3fe3977c171bc5451c08d217f9cb
      size: 83350996
    - path: data/raw/X_val.txt
      hash: md5
      md5: c74e4e1c602207a00f9a7d0b6f5cd612
      size: 41051954
    - path: data/raw/y_test.txt
      hash: md5
      md5: ee87127d4d350f71855f7645118a14e2
      size: 3681252
    - path: data/raw/y_train.txt
      hash: md5
      md5: a1baa255faeadb22c2b820464989699e
      size: 10570508
    - path: data/raw/y_val.txt
      hash: md5
      md5: e1b4662a77e310d40d02a627f0a5e26c
      size: 5206339
    - path: phishing-detection/phishing_detection/preprocess.py
      hash: md5
      md5: 79ff87419fae0f3e0b6a8a2bd80f5891
      size: 3403
    outs:
    - path: data/preprocess/X_test.npy
      hash: md5
      md5: 23fa98d19a833016d86142c36cecda27
      size: 291358528
      cloud:
        aws:
          etag: 421dedecdf7fecc1b1125f6fbd5ad28e-6
          version_id: 'null'
    - path: data/preprocess/X_train.npy
      hash: md5
      md5: d81af1c35a77cdeac4d8ccee76cc939e
      size: 836619328
      cloud:
        aws:
          etag: 745db7209662781c75018ec2bbe59b67-16
          version_id: 'null'
    - path: data/preprocess/X_val.npy
      hash: md5
      md5: 22128e9681506e90a2b437d45da5f8cf
      size: 412063328
      cloud:
        aws:
          etag: 876339ed4410440941887103644018ee-8
          version_id: 'null'
    - path: data/preprocess/char_index.json
      hash: md5
      md5: fe87b0a484b3b60b50fd58cd538aaaae
      size: 639
      cloud:
        aws:
          etag: fe87b0a484b3b60b50fd58cd538aaaae
          version_id: 'null'
    - path: data/preprocess/y_test.npy
      hash: md5
      md5: 86612dc0b79d11ee7dcf2d30c62811eb
      size: 2913712
      cloud:
        aws:
          etag: 86612dc0b79d11ee7dcf2d30c62811eb
          version_id: 'null'
    - path: data/preprocess/y_train.npy
      hash: md5
      md5: 9b660634af0db95a6e2932208bc73b91
      size: 8366320
      cloud:
        aws:
          etag: 9b660634af0db95a6e2932208bc73b91
          version_id: 'null'
    - path: data/preprocess/y_val.npy
      hash: md5
      md5: 7d7c949969abb0303ea9373bf519cc84
      size: 4120760
      cloud:
        aws:
          etag: 7d7c949969abb0303ea9373bf519cc84
          version_id: 'null'
  train:
    cmd:
    - python ./phishing-detection/phishing_detection/model_definition.py data
    - python ./phishing-detection/phishing_detection/train.py data
    deps:
    - path: data/preprocess/X_train.npy
      hash: md5
      md5: d81af1c35a77cdeac4d8ccee76cc939e
      size: 836619328
    - path: data/preprocess/X_val.npy
      hash: md5
      md5: 22128e9681506e90a2b437d45da5f8cf
      size: 412063328
    - path: data/preprocess/char_index.json
      hash: md5
      md5: fe87b0a484b3b60b50fd58cd538aaaae
      size: 639
    - path: data/preprocess/y_train.npy
      hash: md5
      md5: 9b660634af0db95a6e2932208bc73b91
      size: 8366320
    - path: data/preprocess/y_val.npy
      hash: md5
      md5: 7d7c949969abb0303ea9373bf519cc84
      size: 4120760
    - path: phishing-detection/phishing_detection/model_definition.py
      hash: md5
      md5: 55bf2a3bd2121357e99e4692aafa8e80
      size: 2313
    - path: phishing-detection/phishing_detection/train.py
      hash: md5
      md5: 75a82a9d73ab0673dadbec5dc5594977
      size: 1762
    outs:
    - path: data/model/initial_model.keras
      hash: md5
      md5: 55fa8ca50eb9cbd41efeeb61517fd987
      size: 49737
      cloud:
        aws:
          etag: 55fa8ca50eb9cbd41efeeb61517fd987
          version_id: fuk3nIlB7oWebpJr1wIei0B_9ECHeI.6
    - path: data/model/trained_model.keras
      hash: md5
      md5: e44426bfc609504d8c358536c515327c
      size: 5472435
      cloud:
        aws:
          etag: e44426bfc609504d8c358536c515327c
          version_id: M4_Pdr8fKEXMEierQD5QaSLLkQU7_pGV
  test:
    cmd: python ./phishing-detection/phishing_detection/predict.py data
    deps:
    - path: data/model/trained_model.keras
      hash: md5
      md5: e44426bfc609504d8c358536c515327c
      size: 5472435
    - path: data/preprocess/X_test.npy
      hash: md5
      md5: 23fa98d19a833016d86142c36cecda27
      size: 291358528
    - path: data/preprocess/y_test.npy
      hash: md5
      md5: 86612dc0b79d11ee7dcf2d30c62811eb
      size: 2913712
    - path: phishing-detection/phishing_detection/predict.py
      hash: md5
      md5: 54883bf00811d49bb1f989fe9684b83d
      size: 3042
    outs:
    - path: data/results/confusion_matrix.pdf
      hash: md5
      md5: 6576b0f2b5717eeed323ebd9dd7887bb
      size: 14154
      cloud:
        aws:
          etag: 6576b0f2b5717eeed323ebd9dd7887bb
          version_id: 7v9CKf_3JPL6zB_tWkfAfCPbLnjpdtr1
    - path: data/results/results.txt
      hash: md5
      md5: de64d03317a4972caba7a78ee865c322
      size: 48
      cloud:
        aws:
          etag: de64d03317a4972caba7a78ee865c322
          version_id: Swnt.qKIFFgg133CmEJ3FoTbrOB79Gkt
