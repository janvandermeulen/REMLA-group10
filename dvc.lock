schema: '2.0'
stages:
  prepare:
    cmd: python .\phishing-detection\phishing_detection\get_data.py data
    deps:
    - path: data/test.txt
      hash: md5
      md5: a1cab28ad8554fd9269d31e5708469d0
      size: 32724891
    - path: data/train.txt
      hash: md5
      md5: 13fd241a41370119612d5b00b0433009
      size: 93921671
    - path: data/val.txt
      hash: md5
      md5: 7b1e28b1e91582c6f36e85517c3cc6ee
      size: 46258330
    - path: phishing-detection\phishing_detection\get_data.py
      hash: md5
      md5: 6708263ffcff004f1762661aaf786abe
      size: 1539
    outs:
    - path: data/raw/X_test.txt
      hash: md5
      md5: 3fea8da6e4997dd0ede997235a10ca51
      size: 29407820
    - path: data/raw/X_train.txt
      hash: md5
      md5: e30e89161e21482d56537c6d0889db94
      size: 84396770
    - path: data/raw/X_val.txt
      hash: md5
      md5: 53d02f5e8a3a4de5fbb99be60fffea4f
      size: 41567062
    - path: data/raw/y_test.txt
      hash: md5
      md5: f04d1da8fd322e8e8d7b40ca2cff6cd9
      size: 4045462
    - path: data/raw/y_train.txt
      hash: md5
      md5: a2628fb8ca50c89fe1250772b8a50206
      size: 11616282
    - path: data/raw/y_val.txt
      hash: md5
      md5: b63122d1f1df50d4e75507b729ab6c03
      size: 5721428
  preprocess:
    cmd: python .\phishing-detection\phishing_detection\preprocess.py data
    deps:
    - path: data/raw/X_test.txt
      hash: md5
      md5: 3fea8da6e4997dd0ede997235a10ca51
      size: 29407820
    - path: data/raw/X_train.txt
      hash: md5
      md5: e30e89161e21482d56537c6d0889db94
      size: 84396770
    - path: data/raw/X_val.txt
      hash: md5
      md5: 53d02f5e8a3a4de5fbb99be60fffea4f
      size: 41567062
    - path: data/raw/y_test.txt
      hash: md5
      md5: f04d1da8fd322e8e8d7b40ca2cff6cd9
      size: 4045462
    - path: data/raw/y_train.txt
      hash: md5
      md5: a2628fb8ca50c89fe1250772b8a50206
      size: 11616282
    - path: data/raw/y_val.txt
      hash: md5
      md5: b63122d1f1df50d4e75507b729ab6c03
      size: 5721428
    - path: phishing-detection\phishing_detection\preprocess.py
      hash: md5
      md5: 6061605426b00694090cdd7d6fc04a46
      size: 3298
    outs:
    - path: data/preprocess/X_test.npy
      hash: md5
      md5: 93675aba9e6e2c9b80277481652f0f7d
      size: 291359328
    - path: data/preprocess/X_train.npy
      hash: md5
      md5: d81af1c35a77cdeac4d8ccee76cc939e
      size: 836619328
    - path: data/preprocess/X_val.npy
      hash: md5
      md5: 6cf90ab489d52d04b2b739d1648378c9
      size: 412064128
    - path: data/preprocess/char_index.json
      hash: md5
      md5: fe87b0a484b3b60b50fd58cd538aaaae
      size: 639
    - path: data/preprocess/y_test.npy
      hash: md5
      md5: f75fc025e787c7c33a7a8c50d3b901d0
      size: 1456924
    - path: data/preprocess/y_train.npy
      hash: md5
      md5: 9b660634af0db95a6e2932208bc73b91
      size: 8366320
    - path: data/preprocess/y_val.npy
      hash: md5
      md5: b2b6fd1c6458b139988973e159e5fff1
      size: 2060448
  train:
    cmd:
    - python .\phishing-detection\phishing_detection\model_definition.py data
    - python .\phishing-detection\phishing_detection\train.py data
    deps:
    - path: data/preprocess/X_train.npy
      hash: md5
      md5: d81af1c35a77cdeac4d8ccee76cc939e
      size: 836619328
    - path: data/preprocess/X_val.npy
      hash: md5
      md5: 6cf90ab489d52d04b2b739d1648378c9
      size: 412064128
    - path: data/preprocess/char_index.json
      hash: md5
      md5: fe87b0a484b3b60b50fd58cd538aaaae
      size: 639
    - path: data/preprocess/y_train.npy
      hash: md5
      md5: 9b660634af0db95a6e2932208bc73b91
      size: 8366320
    - path: data/preprocess/y_val.npy
      hash: md5
      md5: b2b6fd1c6458b139988973e159e5fff1
      size: 2060448
    - path: phishing-detection\phishing_detection\model_definition.py
      hash: md5
      md5: 2fc8e16119ddd926da3552c06bc4ed17
      size: 2167
    - path: phishing-detection\phishing_detection\train.py
      hash: md5
      md5: 3a7679d044d5e20a9aca3e3bfef7a098
      size: 1645
    outs:
    - path: data/model/initial_model.keras
      hash: md5
      md5: 5f40cb6e2ba4e900651c8257a4e38565
      size: 49737
    - path: data/model/trained_model.keras
      hash: md5
      md5: d8e606f49bff4b99f52a4bcec3fcb8f4
      size: 5472087
  test:
    cmd: python .\phishing-detection\phishing_detection\predict.py data
    deps:
    - path: data/model/trained_model.keras
      hash: md5
      md5: d8e606f49bff4b99f52a4bcec3fcb8f4
      size: 5472087
    - path: data/preprocess/X_test.npy
      hash: md5
      md5: 93675aba9e6e2c9b80277481652f0f7d
      size: 291359328
    - path: data/preprocess/y_test.npy
      hash: md5
      md5: f75fc025e787c7c33a7a8c50d3b901d0
      size: 1456924
    - path: phishing-detection\phishing_detection\predict.py
      hash: md5
      md5: 5f8eb7428d2ad8f48b30f9b1bf4a244c
      size: 3092
    outs:
    - path: data/results/confusion_matrix.pdf
      hash: md5
      md5: 03a14f4eab2ef7da906cbdaf25cd1f8a
      size: 13214
    - path: data/results/results.txt
      hash: md5
      md5: 4c24ed3cfccea4b4e08cc753e8a82f51
      size: 51
